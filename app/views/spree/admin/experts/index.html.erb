<%= render :partial => 'spree/admin/shared/box_sub_menu'%>

<!--Button add new expert-->
<% content_for :page_actions do %>
    <li><%= button_link_to Spree.t(:new_expert), new_admin_expert_url, { :remote => true, :icon => 'plus', :id => 'admin_new_expert' } %></li>
<% end %>

<div id="new_expert_wrapper" data-hook></div>

<% if @experts.any? %>
  <table>
    <thead>
      <tr>
        <th><%=Spree.t(:author)%></th>
        <th><%=Spree.t(:avatar)%></th>
        <th><%=Spree.t(:article)%></th>
      </tr>
    </thead>
    <tbody>
    <% @experts.each do |expert| %>
      <tr>
        <td class="align-center"><%= expert.name %></td>
        <% if expert.avatars.any? %>
          <td class="align-center"><%= image_tag expert.avatars.first.attachment.url(:mini) %></td>
        <% else %>
          <td class="align-center"></td>
        <% end %>
        <td><%= link_to expert.title, admin_expert_url(expert) %></td>
        <td class="actions" data-hook="admin_experts_index_row_actions">
          <%= link_to_edit expert, :no_text => true, :class => 'edit' if can?(:edit, expert) && !expert.deleted? %>
          &nbsp;
          <%= link_to_delete expert, :no_text => true if can?(:delete, expert) && !expert.deleted? %>
        </td>
      </tr>
    <% end %>
    </tbody>
  </table>
<% else %>
  <div class="no-objects-found">
    <%= Spree.t(:no_experts_found) %>.
  </div>
<% end %>
